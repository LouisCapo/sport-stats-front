<ng-container *ngTemplateOutlet="loading ? spiner : playerCard"> </ng-container>
<ng-template #playerCard>
  <mat-card class="player-card">
    <mat-card-content>
      <div *ngIf="errorInfo" class="player-card__error-bar">
        <app-info-message
          [error]="true"
          [messageText]="errorInfo.error.msg"
        ></app-info-message>
      </div>
      <div *ngIf="!errorInfo">
        <div class="player-card__player-info">
          <div class="player-card__player-photo">
            <img [src]="playerInfo.playerPhoto" alt="" />
          </div>
          <div class="player-card__about-player">
            <span class="player-card__player-name">{{
              playerInfo.playerName
            }}</span>
            <div class="player-card__about-player-row">
              <span class="player-card__about-player-title">Ник:</span>
              <span class="player-card__about-player-value">{{
                playerInfo.playerNick
              }}</span>
            </div>
            <div class="player-card__about-player-row">
              <span class="player-card__about-player-title">Возраст:</span>
              <span class="player-card__about-player-value">{{
                playerInfo.playerAge
              }}</span>
            </div>
            <div class="player-card__about-player-row">
              <span class="player-card__about-player-title"
                >Текущая команда:</span
              >
              <div
                (click)="openTeamPage(playerInfo.playerTeam.teamId)"
                class="player-card__player-team"
              >
                <img
                  class="player-card__team-logo"
                  [src]="playerInfo.playerTeam.teamLogo"
                  alt=""
                />
                <span class="player-card__about-player-value player-card__link">{{
                  playerInfo.playerTeam.teamName
                }}</span>
              </div>
            </div>
            <div class="player-card__about-player-row">
              <span class="player-card__about-player-title">Достижения:</span>
              <span class="player-card__about-player-value"
                ><span
                  class="player-card__link"
                  *ngFor="let achievement of playerInfo.playerAchievements"
                  (click)="openAchievementNews(achievement.newsId)"
                  >{{ achievement.title }}
                </span></span
              >
            </div>
          </div>
        </div>
        <mat-card-footer>
          <div class="player-card__stats-bar">
            <span class="player-card__stats">Статистика:</span>
            <div class="player-card__player-stats">
              <div *ngFor="let stats of playerInfo.playerStats">
                <div class="player-card__stats-row">
                  <span>{{ stats.title }}</span>
                  <span class="player-card__stats-value">{{
                    stats.value
                  }}</span>
                </div>
              </div>
            </div>
          </div>
        </mat-card-footer>
      </div>
    </mat-card-content>
  </mat-card>
</ng-template>
<ng-template #spiner>
  <div class="loading-spiner">
    <mat-spinner></mat-spinner>
  </div>
</ng-template>
